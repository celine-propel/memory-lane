{% extends "base.html" %}
{% block content %}
<div class="mb-8">
  <h1 class="text-3xl sm:text-4xl font-black text-white tracking-tight leading-tight">Visual Puzzle (Visuospatial)</h1>
  <p class="text-indigo-200/60 mt-2 font-medium">
    Memorize the puzzle, then rebuild it by dragging pieces into the grid. Press Submit when finished.
  </p>
</div>

<div class="bg-white/5 backdrop-blur-2xl border border-white/10 rounded-[2rem] p-6 shadow-2xl space-y-5">

  <div class="flex items-center justify-between">
    <div id="vpProgress" class="px-3 py-1 text-[10px] font-black uppercase tracking-[0.2em] rounded-full bg-indigo-500/20 text-indigo-200">Ready</div>
    <div id="vpMeta" class="text-sm text-slate-300 font-semibold">Moves: 0 Â· Mistakes: 0</div>
  </div>

  <div id="vpStatus" class="text-center text-xs text-indigo-200/70">
    Press start when you are ready.
  </div>

  <div class="flex justify-center gap-3">
    <button id="vpStart" type="button"
      class="px-5 py-2.5 rounded-xl bg-indigo-500 text-white text-sm font-bold hover:bg-indigo-400 transition shadow-md">
      Start
    </button>

    <button id="vpSubmit" type="button" disabled
      class="px-5 py-2.5 rounded-xl bg-white/10 text-white text-sm font-bold hover:bg-white/20 transition shadow-md disabled:opacity-50 disabled:cursor-not-allowed">
      Submit
    </button>
  </div>

  <div class="grid gap-6 lg:grid-cols-2 items-start">
    <div>
      <div class="text-xs font-black uppercase tracking-[0.2em] text-indigo-200/70 mb-2">Board</div>
      <div id="vpBoard"
        class="grid grid-cols-3 gap-3 p-4 rounded-2xl bg-white/5 border border-white/10 select-none">
      </div>
      <div class="mt-2 text-[11px] text-slate-300/70">
        Drag pieces into the grid. You can drag them back to the tray.
      </div>
    </div>

    <div>
      <div class="text-xs font-black uppercase tracking-[0.2em] text-indigo-200/70 mb-2">Pieces</div>
      <div id="vpTray"
        class="min-h-[140px] p-4 rounded-2xl bg-white/5 border border-white/10 flex flex-wrap gap-3">
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/games/visual_puzzle.js"></script>
{% endblock %}
